{
  "version": "0.1",
  "entity": "meetbouten",
  "entity_id": "meetboutid",
  "source": {
    "name": "Grondslag",
    "entity_id": "meetboutid",
    "type": "database",
    "schema": "grondslag",
    "query": [
"      SELECT * FROM (",
"      SELECT h.nummer                                                       AS meetboutid",
"      ,      substr( h.omschrijving, 1, instr(h.omschrijving, chr(10)) -1 ) AS adres",
"      ,      substr( h.omschrijving, instr(h.omschrijving, chr(10)) + 1 )   AS locatie",
"      ,      h.sta_id                                                       AS status_id -- 1=actueel 2=niet te meten 3=vervallen",
"      ,      s.omschrijving                                                 AS status_omschrijving",
"      ,      to_char(h.vervaldatum, 'YYYY-MM-DD')                           AS vervaldatum",
"      ,      h.mer_id                                                       AS merk_id -- 0, 1, 2, 7, 10, 14, 15, 16, 17, 20, 99",
"      ,      m.omschr_verkort                                               AS merk_omschrijving",
"      ,      h.xmuur                                                        AS xmuur",
"      ,      h.ymuur                                                        AS ymuur",
"      ,      h.windr                                                        AS windrichting",
"      ,      k.bou_nummer                                                   AS bouwblok_code",
"      ,      to_char(sdo_util.to_wktgeometry(h.geom))                       AS geometrie",
"      ,      case when h.orde = 1 then 'J' else 'N' end                     AS publiceerbaar -- publiceren ja (1) of nee (0)",
"        FROM              grs_hoogtepunten h",
"        LEFT OUTER JOIN   grs_kringpunten  k ON h.id = k.hoo_id",
"        LEFT OUTER JOIN   grs_merken       m ON h.mer_id = m.id",
"        LEFT OUTER JOIN   grs_status       s ON h.sta_id = s.id",
"        WHERE  h.typ_nummer IN (7, 8)",
"      ) WHERE rownum <= 10"
    ]
  },
  "gob_model": {
    "meetboutid": {
      "type": "GOB.String",
      "source_mapping": "meetboutid"
    },
    "nabij_adres": {
      "type": "GOB.String",
      "source_mapping": "adres"
    },
    "locatie": {
      "type": "GOB.String",
      "source_mapping": "locatie"
    },
    "status_id": {
      "type": "GOB.String",
      "source_mapping": "status_id"
    },
    "status_omschrijving": {
      "type": "GOB.String",
      "source_mapping": "status_omschrijving"
    },
    "vervaldatum": {
      "type": "GOB.Date",
      "source_mapping": "vervaldatum",
      "format": "%Y-%m-%d"
    },
    "merk_id": {
      "type": "GOB.String",
      "source_mapping": "merk_id"
    },
    "merk_omschrijving": {
      "type": "GOB.String",
      "source_mapping": "merk_omschrijving"
    },
    "xmuurvlak": {
      "type": "GOB.Decimal",
      "source_mapping": "xmuur"
    },
    "ymuurvlak": {
      "type": "GOB.Decimal",
      "source_mapping": "ymuur"
    },
    "windrichting": {
      "type": "GOB.String",
      "source_mapping": "windrichting"
    },
    "ligt_in_bouwblok": {
      "type": "GOB.String",
      "source_mapping": "bouwblok_code"
    },
    "geometrie": {
      "type": "GOB.String",
      "source_mapping": "geometrie"
    },
    "publiceerbaar": {
      "type": "GOB.Boolean",
      "source_mapping": "publiceerbaar",
      "format": "JN"
    }
  }
}
