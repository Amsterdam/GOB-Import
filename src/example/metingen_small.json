{
  "version": "0.1",
  "entity": "metingen",
  "entity_id": "metingid",
  "source": {
    "name": "Grondslag",
    "entity_id": "metingid",
    "type": "database",
    "schema": "grondslag",
    "query": [
"    SELECT m.id                                AS metingid",
"    ,      h1.nummer                           AS hoort_bij_meetbout",
"    ,      to_char(m.inwindatum, 'YYYY-MM-DD') AS datum ",
"    ,      m.wijze_inwinning                   AS wijze_van_inwinnen_id",
"    ,      i.omschrijving                      AS wijze_van_inwinnen",
"    ,      m.hoogte                            AS hoogte_tov_nap",
"    ,      q.nummer                            AS refereert_aan_refpunt",
"    ,      m.bro_id                            AS is_gemeten_door_onderneming_id",
"    ,      b.omschrijving                      AS is_gemeten_door_onderneming",
"    FROM              grs_hoogtepunten         h1",
"    JOIN              grs_metingen_herz        m  ON h1.id = m.hoo_id",
"    LEFT OUTER JOIN  (SELECT r.met_id",
"                      ,      listagg(h2.nummer, ';') WITHIN GROUP (ORDER BY r.met_id) AS nummer",
"                      FROM   grs_met_ref_punten_herz r",
"                      JOIN   grs_hoogtepunten        h2 ON r.hoo_id = h2.id",
"                      WHERE h2.typ_nummer != 7 ",
"                      GROUP BY r.met_id)       q  ON m.id = q.met_id",
"    LEFT OUTER JOIN   grs_wijzen_inwinning     i  ON m.wijze_inwinning = i.id",
"    LEFT OUTER JOIN   grs_bronnen              b  ON m.bro_id = b.id",
"    WHERE (h1.typ_nummer = 7               --deformatiebout",
"    OR    (h1.typ_nummer = 8 AND h1.orde = 1)) --referentiebout",
"    AND h1.nummer IN (10281166,10281186,10281189,10281170,10281175,10281156,10181022,10281168,10281172,10181020,10281169,10281164,10281183,10281174,10281161,10281190,10281184,10281157,10181027,10181021,10281187,10181023,10281188,10281165,10181017,10281176,10281154,10181019,10281171,10281160,10281155,10281182,10181015,10281180,10281181,10281185,10181024,10181016,10281191,10281178,10281167,10281162,10281179,10281173,10281158,10181018,10281192,10281159,10281163,10281177)",
"    ORDER BY          datum"
    ]
  },
  "gob_mapping": {
    "metingid": {
      "source_mapping": "metingid"
    },
    "hoort_bij_meetbout_text": {
      "source_mapping": "hoort_bij_meetbout"
    },
    "hoort_bij_meetbout_id": {
      "source_mapping": "hoort_bij_meetbout"
    },
    "datum": {
      "source_mapping": "datum",
      "format": "%Y-%m-%d"
    },
    "wijze_van_inwinnen_id": {
      "source_mapping": "wijze_van_inwinnen_id"
    },
    "wijze_van_inwinnen_omschrijving": {
      "source_mapping": "wijze_van_inwinnen"
    },
    "hoogte_tov_nap": {
      "source_mapping": "hoogte_tov_nap"
    },
    "refereert_aan_text": {
      "source_mapping": "refereert_aan_refpunt"
    },
    "is_gemeten_door_id": {
      "source_mapping": "is_gemeten_door_onderneming_id"
    },
    "is_gemeten_door_text": {
      "source_mapping": "is_gemeten_door_onderneming"
    },
    "type_meting": {
      "source_mapping": "type_meting"
    },
    "zakking": {
      "source_mapping": "zakking",
      "precision": 4
    },
    "zakkingssnelheid": {
      "source_mapping": "zakkingssnelheid",
      "precision": 4
    },
    "zakking_cumulatief": {
      "source_mapping": "zakking_cumulatief",
      "precision": 4
    },
    "hoeveelste_meting": {
      "source_mapping": "hoeveelste_meting"
    },
    "aantal_dagen": {
      "source_mapping": "aantal_dagen"
    }
  }
}
