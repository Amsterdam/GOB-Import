{
  "version": "0.1",
  "entity": "meetbouten",
  "entity_id": "meetboutid",
  "source": {
    "name": "Grondslag",
    "entity_id": "meetboutid",
    "type": "database",
    "schema": "grondslag",
    "query": [
"    SELECT h.nummer                                                        AS meetboutid",
"    ,       substr( h.omschrijving, 1, instr(h.omschrijving, chr(10)) -1 ) AS adres",
"    ,       substr( h.omschrijving, instr(h.omschrijving, chr(10)) + 1 )   AS locatie",
"    ,       h.sta_id                                                       AS status_id -- 1=actueel 2=niet te meten 3=vervallen",
"    ,       s.omschrijving                                                 AS status_omschrijving",
"    ,       to_char(h.vervaldatum, 'YYYY-MM-DD')                           AS vervaldatum",
"    ,       h.mer_id                                                       AS merk_id -- 0, 1, 2, 7, 10, 14, 15, 16, 17, 20, 99",
"    ,       m.omschr_verkort                                               AS merk_omschrijving",
"    ,       h.xmuur                                                        AS xmuurvlak",
"    ,       h.ymuur                                                        AS ymuurvlak",
"    ,       h.windr                                                        AS windrichting",
"    ,       k.bou_nummer                                                   AS bouwblok_code",
"    ,       h.geom.sdo_point.x                                             AS xcoordinaat",
"    ,       h.geom.sdo_point.y                                             AS ycoordinaat",
"    ,       to_char(sdo_util.to_wktgeometry(h.geom))                       AS geometrie",
"    ,       CASE WHEN h.orde = 1 THEN 'J' ELSE 'N' END                     AS publiceerbaar -- publiceren ja (1) of nee (0)",
"    FROM              grs_hoogtepunten h",
"    LEFT OUTER JOIN   grs_kringpunten  k ON h.id = k.hoo_id",
"    LEFT OUTER JOIN   grs_merken       m ON h.mer_id = m.id",
"    LEFT OUTER JOIN   grs_status       s ON h.sta_id = s.id",
"    WHERE     (h.typ_nummer = 7                -- deformatiebout",
"          OR  (h.typ_nummer = 8 AND orde = 1)) -- referentiebout",
"          AND h.nummer IN (10281166,10281186,10281189,10281170,10281175,10281156,10181022,10281168,10281172,10181020,10281169,10281164,10281183,10281174,10281161,10281190,10281184,10281157,10181027,10181021,10281187,10181023,10281188,10281165,10181017,10281176,10281154,10181019,10281171,10281160,10281155,10281182,10181015,10281180,10281181,10281185,10181024,10181016,10281191,10281178,10281167,10281162,10281179,10281173,10281158,10181018,10281192,10281159,10281163,10281177)"
    ]
  },
  "gob_mapping": {
    "meetboutid": {
      "source_mapping": "meetboutid"
    },
    "nabij_adres_text": {
      "source_mapping": "adres"
    },
    "locatie": {
      "source_mapping": "locatie"
    },
    "status_id": {
      "source_mapping": "status_id"
    },
    "status_omschrijving": {
      "source_mapping": "status_omschrijving"
    },
    "vervaldatum": {
      "source_mapping": "vervaldatum",
      "format": "%Y-%m-%d"
    },
    "merk_id": {
      "source_mapping": "merk_id"
    },
    "merk_omschrijving": {
      "source_mapping": "merk_omschrijving"
    },
    "xmuurvlak": {
      "source_mapping": "xmuurvlak"
    },
    "ymuurvlak": {
      "source_mapping": "ymuurvlak"
    },
    "windrichting": {
      "source_mapping": "windrichting"
    },
    "ligt_in_bouwblok_text": {
      "source_mapping": "bouwblok_code"
    },
    "xcoordinaat": {
      "source_mapping": "xcoordinaat"
    },
    "ycoordinaat": {
      "source_mapping": "ycoordinaat"
    },
    "geometrie": {
      "source_mapping": "geometrie"
    },
    "publiceerbaar": {
      "source_mapping": "publiceerbaar",
      "format": "JN"
    }
  }
}
